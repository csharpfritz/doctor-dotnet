---
title: Vulnerability Scanning Guide
description: User guide for CodeMedic vulnerability scanning command
---

# Vulnerability Scanning User Guide

## Quick Start

### Scan Current Directory
```bash
codemedic vulnerabilities
```

### Scan Specific Repository
```bash
codemedic vulnerabilities -p /path/to/my/repo
codemedic vulnerabilities --path /path/to/my/repo
```

### Generate Report
```bash
codemedic vulnerabilities --format markdown > vulnerabilities-report.md
codemedic vulnerabilities -p /path/to/repo --format markdown > vulnerabilities-report.md
```

## Command Reference

### Syntax
```
codemedic vulnerabilities [-p|--path PATH] [--format FORMAT]
```

### Parameters
- `-p, --path PATH` (optional) - Path to the repository to scan (defaults to current directory)
- `--format FORMAT` (optional) - Output format: `console` (default) or `markdown`/`md`

### Examples

```bash
# Scan current directory with console output
codemedic vulnerabilities

# Scan specific path using short form
codemedic vulnerabilities -p ~/projects/myapp

# Scan specific path using long form
codemedic vulnerabilities --path ~/projects/myapp

# Save markdown report from current directory
codemedic vulnerabilities --format markdown > vulns.md

# Combined: scan specific path and save markdown report
codemedic vulnerabilities -p ~/projects/myapp --format markdown > report.md
```

## Understanding the Report

### Summary Section
Shows overall statistics:
- Total packages scanned
- Total vulnerabilities found
- Count by severity (Critical, High, Moderate, Low)

### Vulnerability Details
Each vulnerability entry includes:

| Field | Meaning |
|-------|---------|
| **Package** | NuGet package name |
| **Version** | Affected package version |
| **CVE ID** | Security identifier (e.g., CVE-2024-12345) |
| **Description** | Vulnerability details |
| **Fixed In** | Version that resolves the issue |
| **Projects Affected** | Which projects in repo use this package |

### Severity Levels

- ðŸ”´ **Critical** - Immediate remediation required
- ðŸŸ  **High** - Should be fixed soon
- ðŸŸ¡ **Moderate** - Plan to update
- ðŸŸ¢ **Low** - Update when convenient

## Common Tasks

### Find All Critical Vulnerabilities
```bash
codemedic vulnerabilities --format markdown | grep -i critical
```

### Check Specific Package
```bash
codemedic vulnerabilities | grep -i "package-name"
```

### Generate for Review
```bash
codemedic vulnerabilities --format markdown > security-review.md
# Share markdown file with security team
```

### Regular Monitoring
Add to your build/CI process:
```bash
# PowerShell
& codemedic vulnerabilities
if ($LASTEXITCODE -ne 0) { throw "Vulnerabilities found" }

# Bash
codemedic vulnerabilities || exit 1
```

## Integration Examples

### GitHub Actions
```yaml
name: Security Scan
on: [push]
jobs:
  scan:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '10.0.x'
      - run: dotnet tool install --global codemedic
      - run: codemedic vulnerabilities --format markdown > report.md
      - uses: actions/upload-artifact@v3
        with:
          name: vulnerability-report
          path: report.md
```

### Azure Pipelines
```yaml
trigger:
  - main

pool:
  vmImage: 'ubuntu-latest'

steps:
  - task: UseDotNet@2
    inputs:
      version: '10.0.x'
  
  - script: dotnet tool install --global codemedic
    displayName: 'Install CodeMedic'
  
  - script: codemedic vulnerabilities --format markdown > $(Build.ArtifactStagingDirectory)/report.md
    displayName: 'Scan Vulnerabilities'
  
  - task: PublishBuildArtifacts@1
    inputs:
      pathToPublish: '$(Build.ArtifactStagingDirectory)'
      artifactName: 'vulnerability-reports'
```

### Local Pre-commit Hook
```bash
#!/bin/bash
# .git/hooks/pre-commit

echo "Scanning for vulnerabilities..."
codemedic vulnerabilities

if [ $? -ne 0 ]; then
    echo "Vulnerabilities found. Please review and fix before committing."
    exit 1
fi
```

## Using with Docker

### Run Scan in Container
```bash
docker run --rm -v ${PWD}:/repo codemedic:latest vulnerabilities /repo
```

### Generate Report
```bash
docker run --rm -v ${PWD}:/repo codemedic:latest \
  vulnerabilities /repo --format markdown > report.md
```

## Output Formats

### Console Format (Default)
Rich formatted output with colors and tables:
- Best for: Terminal viewing, quick checks
- Example:
```
Scanned 8 unique package(s), found 0 vulnerability(ies)
Total Packages Scanned: 8
Total Vulnerabilities Found: 0
```

### Markdown Format
Structured text output:
- Best for: Reports, documentation, sharing
- Example:
```markdown
# NuGet Package Vulnerability Report

## Summary
- Total Packages Scanned: 8
- Total Vulnerabilities Found: 0
```

## Troubleshooting

### Command Not Found
**Problem:** `codemedic: command not found`
**Solution:** Ensure CodeMedic is installed and in PATH
```bash
# Install globally
dotnet tool install --global CodeMedic

# Or run with dotnet
dotnet path/to/CodeMedic.dll vulnerabilities
```

### No Vulnerabilities Detected
**Problem:** Expected vulnerabilities not showing up
**Solution:** 
- Check package versions are correct
- Verify vulnerability database is up-to-date
- Try running `codemedic vulnerabilities --format markdown`

### Scanning Takes Too Long
**Problem:** Command times out or runs very slowly
**Solution:**
- For large repos, first run may be slower
- Subsequent runs use cached results
- Check network connectivity for package verification

### Permission Denied (macOS/Linux)
**Problem:** `Permission denied` when running script
**Solution:**
```bash
chmod +x run-vulnerabilities.sh
./run-vulnerabilities.sh
```

## FAQ

**Q: Does this check transitive dependencies?**
A: Yes, vulnerability scanning includes all direct and transitive dependencies.

**Q: How often is the vulnerability database updated?**
A: The database is managed by the dotnet CLI. Update your .NET SDK for latest definitions.

**Q: Can I ignore specific vulnerabilities?**
A: Currently no, but this is planned for future versions.

**Q: What if a package is not found?**
A: Unknown or private packages are skipped safely.

**Q: Is the scan online or offline?**
A: Scanning uses the .NET vulnerability database, which may require network access.

**Q: How do I fix vulnerabilities?**
A: Update packages to versions that include the security fix. Use `dotnet package --upgrade-interactive` or update `packages.config` manually.

## Next Steps

1. **Run Your First Scan**
   ```bash
   codemedic vulnerabilities
   ```

2. **Review Results**
   - Look for Critical and High severity items
   - Plan updates for affected packages

3. **Integrate into Workflow**
   - Add to CI/CD pipeline
   - Use in pre-commit hooks
   - Generate regular reports

4. **Keep Updated**
   - Regularly run vulnerability scans
   - Update packages proactively
   - Monitor security advisories

## See Also

- [CodeMedic Quick Reference](../user-docs/cli_quick_reference.md)
- [Health Dashboard Guide](../doc/feature_repository-health-dashboard.md)
- [Docker Usage](../user-docs/docker_usage.md)
